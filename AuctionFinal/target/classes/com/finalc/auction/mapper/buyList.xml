<?xml version="1.0" encoding="UTF-8"?>

<!-- ==== #26. mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<!-- ==== #27. 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체내에서 유일해야 한다.) ==== -->
<mapper namespace="buyList">
	<!-- #Buy 7. 구매 리스트 xml 단 -->
	
	<resultMap type="HashMap" id="getBuyListMap">
		<result property="AWARDNUM" column="awardnum" javaType="String" />
		<result property="FK_USERNAME" column="fk_username" javaType="String" />
		<result property="AWARDDAY" column="awardday" javaType="String" />
		<result property="AWARDPRICE" column="awardprice" javaType="String" />
	</resultMap>
	
	
	<select id="getBuyList" parameterType="String" resultMap="getBuyListMap">
		select awardnum, A.fk_usernum, awardday, awardprice
		from tbl_award A join tbl_auction_detail B
		on A.fk_actdnum = B.actdnum
		where A.fk_usernum = #{usernum} and B.actd_status = 1
	</select>
</mapper>
 